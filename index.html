<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CyberAfridi Lab</title>
  <style>
    :root {
      --primary: #007bff;
      --dark: #333;
      --light: #f4f4f4;
      --white: #ffffff;
      --accent: #4caf50;
      --danger: #e53935;
      --info: #03a9f4;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--light);
      color: #222;
      transition: background 0.3s, color 0.3s;
    }

    body.dark-mode {
      background-color: #121212;
      color: #f1f1f1;
    }

    header {
      background-color: var(--dark);
      color: var(--white);
      padding: 20px;
      text-align: center;
      font-size: 28px;
      font-weight: bold;
      letter-spacing: 1px;
    }

    nav {
      background: #222;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 25px;
      padding: 15px;
    }

    nav a {
      color: var(--white);
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: background-color 0.3s ease, color 0.3s ease;
      /* transition: background 0.3s ease; */
    }

    nav a:hover {
      background: var(--primary);
    }
    nav a.active {
      background-color: var(--primary);
      color: white;
    }

    section {
      display: none;
      padding: 30px;
      animation: fadeIn 0.5s ease-in-out;
    }

    section.active {
      display: block;
      background-color: #fdfdfd; /* light background for active section */
      border-radius: 10px;
      padding: 30px;
      margin: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    body.dark-mode section.active {
      background-color: #1a1a1a; /* darker background for dark mode */
    }


    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    textarea, input[type="text"], input[type="date"], input[type="url"] {
      width: 100%;
      padding: 12px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 15px;
      background: transparent;
      color: inherit;
    }

    button {
      padding: 12px 20px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background: #0056b3;
    }

    .note, .task {
      background: white;
      padding: 15px;
      margin: 12px 0;
      border-left: 5px solid var(--dark);
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      transition: background 0.3s;
    }

    body.dark-mode .note,
    body.dark-mode .task {
      background: #1e1e1e;
      border-left-color: var(--primary);
    }

    .progress-container {
      margin: 30px auto;
      background: #ddd;
      border-radius: 30px;
      overflow: hidden;
      height: 30px;
      max-width: 600px;
    }

    .progress-bar {
      height: 100%;
      background-color: var(--accent);
      width: 0%;
      transition: width 0.5s ease-in-out;
      text-align: center;
      color: white;
      font-weight: bold;
      line-height: 30px;
    }

    .progress-text {
      text-align: center;
      font-size: 17px;
      margin-top: 10px;
    }

    .quick-add-btn {
      position: fixed;
      bottom: 25px;
      right: 25px;
      background: var(--primary);
      border: none;
      color: white;
      font-size: 28px;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .quick-add-btn:hover {
      background: #0056b3;
      transform: scale(1.1);
    }

    .quick-add-btn::after {
      content: attr(title);
      position: absolute;
      bottom: 70px;
      right: 0;
      background: #333;
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 13px;
      white-space: nowrap;
      opacity: 0;
      transform: translateY(5px);
      pointer-events: none;
      transition: all 0.3s ease;
    }

    .quick-add-btn:hover::after {
      opacity: 1;
      transform: translateY(0);
    }

    /* Toggle switch */
    .toggle-switch {
      position: absolute;
      top: 15px;
      right: 20px;
    }

    .toggle-switch input[type="checkbox"] {
      display: none;
    }

    .toggle-slider {
      width: 40px;
      height: 20px;
      background: #ccc;
      border-radius: 20px;
      display: inline-block;
      position: relative;
      cursor: pointer;
    }

    .toggle-slider::before {
      content: '';
      position: absolute;
      width: 18px;
      height: 18px;
      background: white;
      border-radius: 50%;
      top: 1px;
      left: 1px;
      transition: 0.3s;
    }

    input[type="checkbox"]:checked + .toggle-slider::before {
      transform: translateX(20px);
    }

    input[type="checkbox"]:checked + .toggle-slider {
      background: var(--primary);
    }

    @media (max-width: 768px) {
      nav {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>

  <div class="toggle-switch">
    <label>
      <input type="checkbox" id="darkModeToggle">
      <span class="toggle-slider"></span>
    </label>
    <div>
      <!-- delete all or checks to delete note/tasks/documentations or of there not good in section a btn notes lists with checkbox to delete btn also with select all -->
    </div>
  </div>

  <header>CyberAfridi Lab</header>

  <nav>
    <a href="#" data-target="notes">Notes</a>
    <a href="#" data-target="tasks">Tasks</a>
    <a href="#" data-target="documents">Documents</a>
  </nav>

  <section id="notes">
    <h2>My Notes</h2>
    <textarea placeholder="Write your note..."></textarea>
    <button>Add Note</button>
    <div id="notesList"></div>
  </section>

  <section id="tasks" class="active">
    <h2>My Tasks</h2>
    <input type="text" placeholder="Task title" />
    <input type="url" id="taskLink" placeholder="Optional: Task Link (https://...)" />
    <input type="date" />
    <textarea placeholder="Task details..."></textarea>
    <button>Add Task</button>
    <br>
    <div class="progress-container">
      <div class="progress-bar">0%</div>
    </div>
    <!-- <div class="progress-text">0% Complete</div> -->
    <div id="tasksList"></div>
  </section>

  <section id="documents">
    <h2>My Documents</h2>
    <input type="text" placeholder="Document title" />
    <input type="url" placeholder="Document URL" />
    <button>Add Document</button>
    <div id="documentsList"></div>
  </section>

  <button class="quick-add-btn" title="Quick Add">+</button>

  <script>
    // Section switching
    const navLinks = document.querySelectorAll('nav a');
    const sections = document.querySelectorAll('section');
    navLinks.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        sections.forEach(sec => sec.classList.remove('active'));
        document.getElementById(link.dataset.target).classList.add('active');
      });
    });

    // Notes
    const notesTextarea = document.querySelector('#notes textarea');
    const notesBtn = document.querySelector('#notes button');
    const notesList = document.getElementById('notesList');

    function loadNotes() {
      const notes = JSON.parse(localStorage.getItem('notes') || '[]');
      notesList.innerHTML = '';
      notes.forEach((note, index) => {
        const div = document.createElement('div');
        div.className = 'note';
        div.textContent = note;
        div.onclick = () => {
          if (confirm('Delete this note?')) {
            notes.splice(index, 1);
            localStorage.setItem('notes', JSON.stringify(notes));
            loadNotes();
          }
        };
        notesList.appendChild(div);
      });
    }

    notesBtn.addEventListener('click', () => {
      const content = notesTextarea.value.trim();
      if (content) {
        const notes = JSON.parse(localStorage.getItem('notes') || '[]');
        notes.push(content);
        localStorage.setItem('notes', JSON.stringify(notes));
        notesTextarea.value = '';
        loadNotes();
      }
    });

    // Tasks
    const taskTitle = document.querySelector('#tasks input[type="text"]');
    const taskLink = document.querySelector('#tasks input[type="url"]');
    const taskDate = document.querySelector('#tasks input[type="date"]');
    const taskDetails = document.querySelector('#tasks textarea');
    const taskBtn = document.querySelector('#tasks button');
    const tasksList = document.getElementById('tasksList');
    const progressBar = document.querySelector('.progress-bar');
    const progressText = document.querySelector('.progress-text');

    function loadTasks() {
      const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
      tasksList.innerHTML = '';
      let completed = 0;

      tasks.forEach((task, index) => {
        const div = document.createElement('div');
        div.className = 'task';

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = task.done;
        checkbox.onchange = () => {
          tasks[index].done = checkbox.checked;
          localStorage.setItem('tasks', JSON.stringify(tasks));
          loadTasks();
        };

        const label = document.createElement('label');
        label.innerHTML = `<a href="${task.link}" style="text-decoration: none;font-weight: bold;" target="_blank">${task.title}</a><br>${task.date}<br><pre>${task.details}</pre>`;
        label.style.marginLeft = '10px';

        div.appendChild(checkbox);
        div.appendChild(label);
        tasksList.appendChild(div);

        if (task.done) completed++;
      });

      const percent = tasks.length ? Math.round((completed / tasks.length) * 100) : 0;
      progressBar.style.width = `${percent}%`;
      progressBar.textContent = `${percent}%`;
      progressText.textContent = `${percent}% Complete`;
    }

    taskBtn.addEventListener('click', () => {
      const title = taskTitle.value.trim();
      const link = taskLink.value.trim() || null;  // Use null if empty
      const date = taskDate.value;
      const details = taskDetails.value.trim();
      if (title && date && details) {
        const tasks = JSON.parse(localStorage.getItem('tasks') || '[]');
        tasks.push({ title, link, date, details, done: false });
        localStorage.setItem('tasks', JSON.stringify(tasks));
        taskTitle.value = '';
        taskLink.value = '';
        taskDate.value = '';
        taskDetails.value = '';
        loadTasks();
      }
    });

    // Documents
    const docTitle = document.querySelector('#documents input[type="text"]');
    const docURL = document.querySelector('#documents input[type="url"]');
    const docBtn = document.querySelector('#documents button');
    const docsList = document.getElementById('documentsList');

    function loadDocs() {
      const docs = JSON.parse(localStorage.getItem('documents') || '[]');
      docsList.innerHTML = '';
      docs.forEach((doc, index) => {
        const div = document.createElement('div');
        div.className = 'note';
        div.innerHTML = `<strong>${doc.title}</strong><br><a href="${doc.url}" target="_blank">${doc.url}</a>`;
        div.onclick = () => {
          if (confirm('Delete this document?')) {
            docs.splice(index, 1);
            localStorage.setItem('documents', JSON.stringify(docs));
            loadDocs();
          }
        };
        docsList.appendChild(div);
      });
    }

    docBtn.addEventListener('click', () => {
      const title = docTitle.value.trim();
      const url = docURL.value.trim();
      if (title && url) {
        const docs = JSON.parse(localStorage.getItem('documents') || '[]');
        docs.push({ title, url });
        localStorage.setItem('documents', JSON.stringify(docs));
        docTitle.value = '';
        docURL.value = '';
        loadDocs();
      }
    });

    // Floating Button scroll
    document.querySelector('.quick-add-btn').addEventListener('click', () => {
      // Activate the notes section
      setActiveSection('notes');

      // Scroll smoothly to the notes section
      document.getElementById('notes').scrollIntoView({ behavior: 'smooth' });
    });



    // Dark Mode Toggle
    const darkModeToggle = document.getElementById('darkModeToggle');
    darkModeToggle.addEventListener('change', () => {
      document.body.classList.toggle('dark-mode', darkModeToggle.checked);
      localStorage.setItem('darkMode', darkModeToggle.checked);
    });

    if (localStorage.getItem('darkMode') === 'true') {
      document.body.classList.add('dark-mode');
      darkModeToggle.checked = true;
    }
    // 

    function setActiveSection(sectionId) {
      sections.forEach(sec => sec.classList.remove('active'));
      navLinks.forEach(nav => nav.classList.remove('active'));

      document.getElementById(sectionId).classList.add('active');
      document.querySelector(`nav a[data-target="${sectionId}"]`).classList.add('active');
    }

    // On page load, set tasks active by default
    setActiveSection('tasks');

    // Use this function inside your nav link click handler too:
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        setActiveSection(link.dataset.target);
      });
    });



    // Initialize
    loadNotes();
    loadTasks();
    loadDocs();
  </script>
</body>
</html>